function Re(){}function Ie(e){return e()}function Ne(){return Object.create(null)}function bt(e){e.forEach(Ie)}function Rr(e){return typeof e=="function"}function ha(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Et;function va(e,t){return Et||(Et=document.createElement("a")),Et.href=t,e===Et.href}function Ir(e){return Object.keys(e).length===0}function _a(e,t){e.appendChild(t)}function ma(e,t,r){e.insertBefore(t,r||null)}function Nr(e){e.parentNode.removeChild(e)}function ga(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function ya(e){return document.createElement(e)}function ba(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function jr(e){return document.createTextNode(e)}function Ea(){return jr(" ")}function Sa(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function Ta(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function Ar(e){return Array.from(e.childNodes)}function wa(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let St;function Tt(e){St=e}function Pr(){if(!St)throw new Error("Function called outside component initialization");return St}function Oa(e){Pr().$$.on_mount.push(e)}const ft=[],je=[],wt=[],Ae=[],Fr=Promise.resolve();let zt=!1;function Lr(){zt||(zt=!0,Fr.then(Pe))}function Gt(e){wt.push(e)}let Xt=!1;const Vt=new Set;function Pe(){if(!Xt){Xt=!0;do{for(let e=0;e<ft.length;e+=1){const t=ft[e];Tt(t),Cr(t.$$)}for(Tt(null),ft.length=0;je.length;)je.pop()();for(let e=0;e<wt.length;e+=1){const t=wt[e];Vt.has(t)||(Vt.add(t),t())}wt.length=0}while(ft.length);for(;Ae.length;)Ae.pop()();zt=!1,Xt=!1,Vt.clear()}}function Cr(e){if(e.fragment!==null){e.update(),bt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Gt)}}const Ot=new Set;let Dr;function Mr(e,t){e&&e.i&&(Ot.delete(e),e.i(t))}function ka(e,t,r,n){if(e&&e.o){if(Ot.has(e))return;Ot.add(e),Dr.c.push(()=>{Ot.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}}function xa(e){e&&e.c()}function Hr(e,t,r,n){const{fragment:i,on_mount:a,on_destroy:o,after_update:s}=e.$$;i&&i.m(t,r),n||Gt(()=>{const u=a.map(Ie).filter(Rr);o?o.push(...u):bt(u),e.$$.on_mount=[]}),s.forEach(Gt)}function Ur(e,t){const r=e.$$;r.fragment!==null&&(bt(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function Br(e,t){e.$$.dirty[0]===-1&&(ft.push(e),Lr(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ra(e,t,r,n,i,a,o,s=[-1]){const u=St;Tt(e);const c=e.$$={fragment:null,ctx:null,props:a,update:Re,not_equal:i,bound:Ne(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Ne(),dirty:s,skip_bound:!1,root:t.target||u.$$.root};o&&o(c.root);let f=!1;if(c.ctx=r?r(e,t.props||{},(l,p,...v)=>{const m=v.length?v[0]:p;return c.ctx&&i(c.ctx[l],c.ctx[l]=m)&&(!c.skip_bound&&c.bound[l]&&c.bound[l](m),f&&Br(e,l)),p}):[],c.update(),f=!0,bt(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){const l=Ar(t.target);c.fragment&&c.fragment.l(l),l.forEach(Nr)}else c.fragment&&c.fragment.c();t.intro&&Mr(e.$$.fragment),Hr(e,t.target,t.anchor,t.customElement),Pe()}Tt(u)}class Ia{$destroy(){Ur(this,1),this.$destroy=Re}$on(t,r){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!Ir(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Jt=function(e,t){return Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Jt(e,t)};function kt(e,t){Jt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var y=function(){return y=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},y.apply(this,arguments)};function Fe(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xt(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function z(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xt(arguments[t]));return e}var H;(function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"})(H||(H={}));var Le;(function(e){e.Ok="ok",e.Errored="errored",e.Crashed="crashed"})(Le||(Le={}));var C;(function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"})(C||(C={}));(function(e){function t(r){switch(r){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}e.fromString=t})(C||(C={}));var G;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"})(G||(G={}));(function(e){function t(r){return r>=200&&r<300?e.Success:r===429?e.RateLimit:r>=400&&r<500?e.Invalid:r>=500?e.Failed:e.Unknown}e.fromHttpCode=t})(G||(G={}));var K;(function(e){e.Explicit="explicitly_set",e.Sampler="client_sampler",e.Rate="client_rate",e.Inheritance="inheritance"})(K||(K={}));var j;(function(e){e.BeforeSend="before_send",e.EventProcessor="event_processor",e.NetworkError="network_error",e.QueueOverflow="queue_overflow",e.RateLimitBackoff="ratelimit_backoff",e.SampleRate="sample_rate"})(j||(j={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kt=function(){return Kt=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Kt.apply(this,arguments)};function qr(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function $r(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qr(arguments[t]));return e}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var h=function(){return h=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},h.apply(this,arguments)};function Wr(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function Q(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Wr(arguments[t]));return e}function Yr(e){e.then(null,function(t){console.error(t)})}function lt(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function U(e,t){return e.require(t)}function zr(e){var t;try{t=U(module,e)}catch{}try{var r=U(module,"process").cwd;t=U(module,r()+"/node_modules/"+e)}catch{}return t}var Gr={};function g(){return lt()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:Gr}function Ce(e){switch(Object.prototype.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return D(e,Error)}}function De(e){return Object.prototype.toString.call(e)==="[object ErrorEvent]"}function Me(e){return Object.prototype.toString.call(e)==="[object DOMError]"}function Xr(e){return Object.prototype.toString.call(e)==="[object DOMException]"}function Z(e){return Object.prototype.toString.call(e)==="[object String]"}function Rt(e){return e===null||typeof e!="object"&&typeof e!="function"}function tt(e){return Object.prototype.toString.call(e)==="[object Object]"}function Qt(e){return typeof Event!="undefined"&&D(e,Event)}function He(e){return typeof Element!="undefined"&&D(e,Element)}function Vr(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Zt(e){return Boolean(e&&e.then&&typeof e.then=="function")}function Jr(e){return tt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function D(e,t){try{return e instanceof t}catch{return!1}}function et(e,t){try{for(var r=e,n=5,i=80,a=[],o=0,s=0,u=" > ",c=u.length,f=void 0;r&&o++<n&&(f=Kr(r,t),!(f==="html"||o>1&&s+a.length*c+f.length>=i));)a.push(f),s+=f.length,r=r.parentNode;return a.reverse().join(u)}catch{return"<unknown>"}}function Kr(e,t){var r,n,i=e,a=[],o,s,u,c,f;if(!i||!i.tagName)return"";a.push(i.tagName.toLowerCase());var l=((r=t)===null||r===void 0?void 0:r.length)?t.filter(function(v){return i.getAttribute(v)}).map(function(v){return[v,i.getAttribute(v)]}):null;if((n=l)===null||n===void 0?void 0:n.length)l.forEach(function(v){a.push("["+v[0]+'="'+v[1]+'"]')});else if(i.id&&a.push("#"+i.id),o=i.className,o&&Z(o))for(s=o.split(/\s+/),f=0;f<s.length;f++)a.push("."+s[f]);var p=["type","name","title","alt"];for(f=0;f<p.length;f++)u=p[f],c=i.getAttribute(u),c&&a.push("["+u+'="'+c+'"]');return a.join("")}function Qr(){var e=g();try{return e.document.location.href}catch{return""}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var te=function(e,t){return te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},te(e,t)};function Zr(e,t){te(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var A=function(){return A=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},A.apply(this,arguments)};function Ue(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function tn(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}var en=Object.setPrototypeOf||({__proto__:[]}instanceof Array?rn:nn);function rn(e,t){return e.__proto__=t,e}function nn(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t[r]);return e}var E=function(e){Zr(t,e);function t(r){var n=this.constructor,i=e.call(this,r)||this;return i.message=r,i.name=n.prototype.constructor.name,en(i,n.prototype),i}return t}(Error),an=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,dt="Invalid Dsn",Be=function(){function e(t){typeof t=="string"?this._fromString(t):this._fromComponents(t),this._validate()}return e.prototype.toString=function(t){t===void 0&&(t=!1);var r=this,n=r.host,i=r.path,a=r.pass,o=r.port,s=r.projectId,u=r.protocol,c=r.publicKey;return u+"://"+c+(t&&a?":"+a:"")+("@"+n+(o?":"+o:"")+"/"+(i&&i+"/")+s)},e.prototype._fromString=function(t){var r=an.exec(t);if(!r)throw new E(dt);var n=tn(r.slice(1),6),i=n[0],a=n[1],o=n[2],s=o===void 0?"":o,u=n[3],c=n[4],f=c===void 0?"":c,l=n[5],p="",v=l,m=v.split("/");if(m.length>1&&(p=m.slice(0,-1).join("/"),v=m.pop()),v){var T=v.match(/^\d+/);T&&(v=T[0])}this._fromComponents({host:u,pass:s,path:p,projectId:v,port:f,protocol:i,publicKey:a})},e.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},e.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach(function(r){if(!t[r])throw new E(dt+": "+r+" missing")}),!this.projectId.match(/^\d+$/))throw new E(dt+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new E(dt+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new E(dt+": Invalid port "+this.port)},e}(),X=g(),ee="Sentry Logger ";function It(e){var t=g(),r=["debug","info","warn","error","log","assert"];if(!("console"in t))return e();var n=t.console,i={};r.forEach(function(o){o in t.console&&n[o].__sentry_original__&&(i[o]=n[o],n[o]=n[o].__sentry_original__)});var a=e();return Object.keys(i).forEach(function(o){n[o]=i[o]}),a}var on=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||It(function(){X.console.log(ee+"[Log]: "+t.join(" "))})},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||It(function(){X.console.warn(ee+"[Warn]: "+t.join(" "))})},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||It(function(){X.console.error(ee+"[Error]: "+t.join(" "))})},e}();X.__SENTRY__=X.__SENTRY__||{};var d=X.__SENTRY__.logger||(X.__SENTRY__.logger=new on),sn=function(){function e(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(t){if(this._hasWeakSet)return this._inner.has(t)?!0:(this._inner.add(t),!1);for(var r=0;r<this._inner.length;r++){var n=this._inner[r];if(n===t)return!0}return this._inner.push(t),!1},e.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var r=0;r<this._inner.length;r++)if(this._inner[r]===t){this._inner.splice(r,1);break}},e}(),re="<anonymous>";function B(e){try{return!e||typeof e!="function"?re:e.name||re}catch{return re}}function pt(e,t){return t===void 0&&(t=0),typeof e!="string"||t===0||e.length<=t?e:e.substr(0,t)+"..."}function qe(e,t){if(!Array.isArray(e))return"";for(var r=[],n=0;n<e.length;n++){var i=e[n];try{r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function ht(e,t){return Z(e)?Vr(t)?t.test(e):typeof t=="string"?e.indexOf(t)!==-1:!1:!1}function k(e,t,r){if(t in e){var n=e[t],i=r(n);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch{}e[t]=i}}function un(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function $e(e){if(Ce(e)){var t=e,r={message:t.message,name:t.name,stack:t.stack};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}if(Qt(e)){var i=e,a={};a.type=i.type;try{a.target=He(i.target)?et(i.target):Object.prototype.toString.call(i.target)}catch{a.target="<unknown>"}try{a.currentTarget=He(i.currentTarget)?et(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch{a.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&D(e,CustomEvent)&&(a.detail=i.detail);for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o]);return a}return e}function cn(e){return~-encodeURI(e).split(/%..|./).length}function fn(e){return cn(JSON.stringify(e))}function We(e,t,r){t===void 0&&(t=3),r===void 0&&(r=100*1024);var n=rt(e,t);return fn(n)>r?We(e,t-1,r):n}function ln(e){var t=Object.prototype.toString.call(e);if(typeof e=="string")return e;if(t==="[object Object]")return"[Object]";if(t==="[object Array]")return"[Array]";var r=Ye(e);return Rt(r)?r:t}function Ye(e,t){return t==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":t==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&e===global?"[Global]":typeof window!="undefined"&&e===window?"[Window]":typeof document!="undefined"&&e===document?"[Document]":Jr(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?"[Function: "+B(e)+"]":typeof e=="symbol"?"["+String(e)+"]":typeof e=="bigint"?"[BigInt: "+String(e)+"]":e}function ze(e,t,r,n){if(r===void 0&&(r=1/0),n===void 0&&(n=new sn),r===0)return ln(t);if(t!=null&&typeof t.toJSON=="function")return t.toJSON();var i=Ye(t,e);if(Rt(i))return i;var a=$e(t),o=Array.isArray(t)?[]:{};if(n.memoize(t))return"[Circular ~]";for(var s in a)!Object.prototype.hasOwnProperty.call(a,s)||(o[s]=ze(s,a[s],r-1,n));return n.unmemoize(t),o}function rt(e,t){try{return JSON.parse(JSON.stringify(e,function(r,n){return ze(r,n,t)}))}catch{return"**non-serializable**"}}function dn(e,t){t===void 0&&(t=40);var r=Object.keys($e(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return pt(r[0],t);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>t))return n===r.length?i:pt(i,t)}return""}function q(e){var t,r;if(tt(e)){var n=e,i={};try{for(var a=Ue(Object.keys(n)),o=a.next();!o.done;o=a.next()){var s=o.value;typeof n[s]!="undefined"&&(i[s]=q(n[s]))}}catch(u){t={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}return Array.isArray(e)?e.map(q):e}function Nt(){if(!("fetch"in g()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function ne(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function pn(){if(!Nt())return!1;var e=g();if(ne(e.fetch))return!0;var t=!1,r=e.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=ne(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){d.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return t}function hn(){if(!Nt())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}function vn(){var e=g(),t=e.chrome,r=t&&t.app&&t.app.runtime,n="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!r&&n}var b=g(),vt={},Ge={};function _n(e){if(!Ge[e])switch(Ge[e]=!0,e){case"console":mn();break;case"dom":kn();break;case"xhr":En();break;case"fetch":gn();break;case"history":Sn();break;case"error":xn();break;case"unhandledrejection":Rn();break;default:d.warn("unknown instrumentation type:",e)}}function N(e){!e||typeof e.type!="string"||typeof e.callback!="function"||(vt[e.type]=vt[e.type]||[],vt[e.type].push(e.callback),_n(e.type))}function P(e,t){var r,n;if(!(!e||!vt[e]))try{for(var i=Ue(vt[e]||[]),a=i.next();!a.done;a=i.next()){var o=a.value;try{o(t)}catch(s){d.error(`Error while triggering instrumentation handler.
Type: `+e+`
Name: `+B(o)+`
Error: `+s)}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}function mn(){"console"in b&&["debug","info","warn","error","log","assert"].forEach(function(e){e in b.console&&k(b.console,e,function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];P("console",{args:r,level:e}),t&&Function.prototype.apply.call(t,b.console,r)}})})}function gn(){!pn()||k(b,"fetch",function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n={args:t,fetchData:{method:yn(t),url:bn(t)},startTimestamp:Date.now()};return P("fetch",A({},n)),e.apply(b,t).then(function(i){return P("fetch",A(A({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw P("fetch",A(A({},n),{endTimestamp:Date.now(),error:i})),i})}})}function yn(e){return e===void 0&&(e=[]),"Request"in b&&D(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function bn(e){return e===void 0&&(e=[]),typeof e[0]=="string"?e[0]:"Request"in b&&D(e[0],Request)?e[0].url:String(e[0])}function En(){if("XMLHttpRequest"in b){var e=[],t=[],r=XMLHttpRequest.prototype;k(r,"open",function(n){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=this,s=i[1];o.__sentry_xhr__={method:Z(i[0])?i[0].toUpperCase():i[0],url:i[1]},Z(s)&&o.__sentry_xhr__.method==="POST"&&s.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var u=function(){if(o.readyState===4){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch{}try{var c=e.indexOf(o);if(c!==-1){e.splice(c);var f=t.splice(c)[0];o.__sentry_xhr__&&f[0]!==void 0&&(o.__sentry_xhr__.body=f[0])}}catch{}P("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&typeof o.onreadystatechange=="function"?k(o,"onreadystatechange",function(c){return function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];return u(),c.apply(o,f)}}):o.addEventListener("readystatechange",u),n.apply(o,i)}}),k(r,"send",function(n){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return e.push(this),t.push(i),P("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}var jt;function Sn(){if(!vn())return;var e=b.onpopstate;b.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=b.location.href,a=jt;if(jt=i,P("history",{from:a,to:i}),e)try{return e.apply(this,r)}catch{}};function t(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=n.length>2?n[2]:void 0;if(a){var o=jt,s=String(a);jt=s,P("history",{from:o,to:s})}return r.apply(this,n)}}k(b.history,"pushState",t),k(b.history,"replaceState",t)}var Tn=1e3,At,Pt;function wn(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch{}return!1}function On(e){if(e.type!=="keypress")return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch{}return!0}function Xe(e,t){return t===void 0&&(t=!1),function(r){if(!(!r||Pt===r)&&!On(r)){var n=r.type==="keypress"?"input":r.type;At===void 0?(e({event:r,name:n,global:t}),Pt=r):wn(Pt,r)&&(e({event:r,name:n,global:t}),Pt=r),clearTimeout(At),At=b.setTimeout(function(){At=void 0},Tn)}}}function kn(){if("document"in b){var e=P.bind(null,"dom"),t=Xe(e,!0);b.document.addEventListener("click",t,!1),b.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(function(r){var n=b[r]&&b[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(k(n,"addEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{var u=this,c=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},f=c[a]=c[a]||{refCount:0};if(!f.handler){var l=Xe(e);f.handler=l,i.call(this,a,l,s)}f.refCount+=1}catch{}return i.call(this,a,o,s)}}),k(n,"removeEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{var u=this,c=u.__sentry_instrumentation_handlers__||{},f=c[a];f&&(f.refCount-=1,f.refCount<=0&&(i.call(this,a,f.handler,s),f.handler=void 0,delete c[a]),Object.keys(c).length===0&&delete u.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,o,s)}}))})}}var ie=null;function xn(){ie=b.onerror,b.onerror=function(e,t,r,n,i){return P("error",{column:n,error:i,line:r,msg:e,url:t}),ie?ie.apply(this,arguments):!1}}var ae=null;function Rn(){ae=b.onunhandledrejection,b.onunhandledrejection=function(e){return P("unhandledrejection",e),ae?ae.apply(this,arguments):!0}}function $(){var e=g(),t=e.crypto||e.msCrypto;if(t!==void 0&&t.getRandomValues){var r=new Uint16Array(8);t.getRandomValues(r),r[3]=r[3]&4095|16384,r[4]=r[4]&16383|32768;var n=function(i){for(var a=i.toString(16);a.length<4;)a="0"+a;return a};return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var a=Math.random()*16|0,o=i==="x"?a:a&3|8;return o.toString(16)})}function oe(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+n}}function V(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function se(e,t,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||r||"Error"}function nt(e,t){var r;if(!(!e.exception||!e.exception.values)){var n=e.exception.values[0],i={type:"generic",handled:!0},a=n.mechanism;if(n.mechanism=A(A(A({},i),a),t),t&&"data"in t){var o=A(A({},(r=a)===null||r===void 0?void 0:r.data),t.data);n.mechanism.data=o}}}var Ve=60*1e3;function In(e,t){if(!t)return Ve;var r=parseInt(""+t,10);if(!isNaN(r))return r*1e3;var n=Date.parse(""+t);return isNaN(n)?Ve:n-e}function Je(e){var t;if((t=e)===null||t===void 0?void 0:t.__sentry_captured__)return!0;try{Object.defineProperty(e,"__sentry_captured__",{value:!0})}catch{}return!1}var I=function(){function e(t){var r=this;this._state="PENDING",this._handlers=[],this._resolve=function(n){r._setResult("RESOLVED",n)},this._reject=function(n){r._setResult("REJECTED",n)},this._setResult=function(n,i){if(r._state==="PENDING"){if(Zt(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}},this._attachHandler=function(n){r._handlers=r._handlers.concat(n),r._executeHandlers()},this._executeHandlers=function(){if(r._state!=="PENDING"){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i.done||(r._state==="RESOLVED"&&i.onfulfilled&&i.onfulfilled(r._value),r._state==="REJECTED"&&i.onrejected&&i.onrejected(r._value),i.done=!0)})}};try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return e.resolve=function(t){return new e(function(r){r(t)})},e.reject=function(t){return new e(function(r,n){n(t)})},e.all=function(t){return new e(function(r,n){if(!Array.isArray(t)){n(new TypeError("Promise.all requires an array as input."));return}if(t.length===0){r([]);return}var i=t.length,a=[];t.forEach(function(o,s){e.resolve(o).then(function(u){a[s]=u,i-=1,i===0&&r(a)}).then(null,n)})})},e.prototype.then=function(t,r){var n=this;return new e(function(i,a){n._attachHandler({done:!1,onfulfilled:function(o){if(!t){i(o);return}try{i(t(o));return}catch(s){a(s);return}},onrejected:function(o){if(!r){a(o);return}try{i(r(o));return}catch(s){a(s);return}}})})},e.prototype.catch=function(t){return this.then(function(r){return r},t)},e.prototype.finally=function(t){var r=this;return new e(function(n,i){var a,o;return r.then(function(s){o=!1,a=s,t&&t()},function(s){o=!0,a=s,t&&t()}).then(function(){if(o){i(a);return}n(a)})})},e.prototype.toString=function(){return"[object SyncPromise]"},e}(),Nn=function(){function e(t){this._limit=t,this._buffer=[]}return e.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},e.prototype.add=function(t){var r=this;if(!this.isReady())return I.reject(new E("Not adding Promise due to buffer limit reached."));var n=t();return this._buffer.indexOf(n)===-1&&this._buffer.push(n),n.then(function(){return r.remove(n)}).then(null,function(){return r.remove(n).then(null,function(){})}),n},e.prototype.remove=function(t){var r=this._buffer.splice(this._buffer.indexOf(t),1)[0];return r},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(t){var r=this;return new I(function(n){var i=setTimeout(function(){t&&t>0&&n(!1)},t);I.all(r._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},e}(),ue={nowSeconds:function(){return Date.now()/1e3}};function jn(){var e=g().performance;if(!(!e||!e.now)){var t=Date.now()-e.now();return{now:function(){return e.now()},timeOrigin:t}}}function An(){try{var e=U(module,"perf_hooks");return e.performance}catch{return}}var ce=lt()?An():jn(),Ke=ce===void 0?ue:{nowSeconds:function(){return(ce.timeOrigin+ce.now())/1e3}},Ft=ue.nowSeconds.bind(ue),fe=Ke.nowSeconds.bind(Ke),_t=fe,mt=function(){var e=g().performance;if(!(!e||!e.now)){var t=3600*1e3,r=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,a=i<t,o=e.timing&&e.timing.navigationStart,s=typeof o=="number",u=s?Math.abs(o+r-n):t,c=u<t;return a||c?i<=u?e.timeOrigin:o:n}}(),Qe=100,Lt=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var r=new e;return t&&(r._breadcrumbs=Q(t._breadcrumbs),r._tags=h({},t._tags),r._extra=h({},t._extra),r._contexts=h({},t._contexts),r._user=t._user,r._level=t._level,r._span=t._span,r._session=t._session,r._transactionName=t._transactionName,r._fingerprint=t._fingerprint,r._eventProcessors=Q(t._eventProcessors),r._requestSession=t._requestSession),r},e.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},e.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},e.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(t){return this._requestSession=t,this},e.prototype.setTags=function(t){return this._tags=h(h({},this._tags),t),this._notifyScopeListeners(),this},e.prototype.setTag=function(t,r){var n;return this._tags=h(h({},this._tags),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(t){return this._extra=h(h({},this._extra),t),this._notifyScopeListeners(),this},e.prototype.setExtra=function(t,r){var n;return this._extra=h(h({},this._extra),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},e.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(t){return this.setTransactionName(t)},e.prototype.setContext=function(t,r){var n;return r===null?delete this._contexts[t]:this._contexts=h(h({},this._contexts),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var t,r,n,i,a=this.getSpan();if((t=a)===null||t===void 0?void 0:t.transaction)return(r=a)===null||r===void 0?void 0:r.transaction;if((i=(n=a)===null||n===void 0?void 0:n.spanRecorder)===null||i===void 0?void 0:i.spans[0])return a.spanRecorder.spans[0]},e.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if(typeof t=="function"){var r=t(this);return r instanceof e?r:this}return t instanceof e?(this._tags=h(h({},this._tags),t._tags),this._extra=h(h({},this._extra),t._extra),this._contexts=h(h({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):tt(t)&&(t=t,this._tags=h(h({},this._tags),t.tags),this._extra=h(h({},this._extra),t.extra),this._contexts=h(h({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(t,r){var n=typeof r=="number"?Math.min(r,Qe):Qe;if(n<=0)return this;var i=h({timestamp:Ft()},t);return this._breadcrumbs=Q(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(t,r){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=h(h({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=h(h({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=h(h({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=h(h({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=h({trace:this._span.getTraceContext()},t.contexts);var i=(n=this._span.transaction)===null||n===void 0?void 0:n.name;i&&(t.tags=h({transaction:i},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=Q(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(Q(Ze(),this._eventProcessors),t,r)},e.prototype._notifyEventProcessors=function(t,r,n,i){var a=this;return i===void 0&&(i=0),new I(function(o,s){var u=t[i];if(r===null||typeof u!="function")o(r);else{var c=u(h({},r),n);Zt(c)?c.then(function(f){return a._notifyEventProcessors(t,f,n,i+1).then(o)}).then(null,s):a._notifyEventProcessors(t,c,n,i+1).then(o).then(null,s)}})},e.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(t)}),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},e}();function Ze(){var e=g();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function Ct(e){Ze().push(e)}var Pn=function(){function e(t){this.errors=0,this.sid=$(),this.duration=0,this.status=H.Ok,this.init=!0,this.ignoreDuration=!1;var r=fe();this.timestamp=r,this.started=r,t&&this.update(t)}return e.prototype.update=function(t){if(t===void 0&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),!this.did&&!t.did&&(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||fe(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=t.sid.length===32?t.sid:$()),t.init!==void 0&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),typeof t.started=="number"&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if(typeof t.duration=="number")this.duration=t.duration;else{var r=this.timestamp-this.started;this.duration=r>=0?r:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),typeof t.errors=="number"&&(this.errors=t.errors),t.status&&(this.status=t.status)},e.prototype.close=function(t){t?this.update({status:t}):this.status===H.Ok?this.update({status:H.Exited}):this.update()},e.prototype.toJSON=function(){return q({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:q({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),le=4,Fn=100,Dt=function(){function e(t,r,n){r===void 0&&(r=new Lt),n===void 0&&(n=le),this._version=n,this._stack=[{}],this.getStackTop().scope=r,t&&this.bindClient(t)}return e.prototype.isOlderThan=function(t){return this._version<t},e.prototype.bindClient=function(t){var r=this.getStackTop();r.client=t,t&&t.setupIntegrations&&t.setupIntegrations()},e.prototype.pushScope=function(){var t=Lt.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},e.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},e.prototype.withScope=function(t){var r=this.pushScope();try{t(r)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(t,r){var n=this._lastEventId=$(),i=r;if(!r){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(o){a=o}i={originalException:t,syntheticException:a}}return this._invokeClient("captureException",t,h(h({},i),{event_id:n})),n},e.prototype.captureMessage=function(t,r,n){var i=this._lastEventId=$(),a=n;if(!n){var o=void 0;try{throw new Error(t)}catch(s){o=s}a={originalException:t,syntheticException:o}}return this._invokeClient("captureMessage",t,r,h(h({},a),{event_id:i})),i},e.prototype.captureEvent=function(t,r){var n=$();return t.type!=="transaction"&&(this._lastEventId=n),this._invokeClient("captureEvent",t,h(h({},r),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(t,r){var n=this.getStackTop(),i=n.scope,a=n.client;if(!(!i||!a)){var o=a.getOptions&&a.getOptions()||{},s=o.beforeBreadcrumb,u=s===void 0?null:s,c=o.maxBreadcrumbs,f=c===void 0?Fn:c;if(!(f<=0)){var l=Ft(),p=h({timestamp:l},t),v=u?It(function(){return u(p,r)}):p;v!==null&&i.addBreadcrumb(v,f)}}},e.prototype.setUser=function(t){var r=this.getScope();r&&r.setUser(t)},e.prototype.setTags=function(t){var r=this.getScope();r&&r.setTags(t)},e.prototype.setExtras=function(t){var r=this.getScope();r&&r.setExtras(t)},e.prototype.setTag=function(t,r){var n=this.getScope();n&&n.setTag(t,r)},e.prototype.setExtra=function(t,r){var n=this.getScope();n&&n.setExtra(t,r)},e.prototype.setContext=function(t,r){var n=this.getScope();n&&n.setContext(t,r)},e.prototype.configureScope=function(t){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&t(n)},e.prototype.run=function(t){var r=tr(this);try{t(this)}finally{tr(r)}},e.prototype.getIntegration=function(t){var r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch{return d.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},e.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},e.prototype.startTransaction=function(t,r){return this._callExtensionMethod("startTransaction",t,r)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(t){if(t===void 0&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var t,r,n,i,a;(n=(r=(t=this.getStackTop())===null||t===void 0?void 0:t.scope)===null||r===void 0?void 0:r.getSession())===null||n===void 0||n.close(),this._sendSessionUpdate(),(a=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||a===void 0||a.setSession()},e.prototype.startSession=function(t){var r=this.getStackTop(),n=r.scope,i=r.client,a=i&&i.getOptions()||{},o=a.release,s=a.environment,u=g(),c=(u.navigator||{}).userAgent,f=new Pn(h(h(h({release:o,environment:s},n&&{user:n.getUser()}),c&&{userAgent:c}),t));if(n){var l=n.getSession&&n.getSession();l&&l.status===H.Ok&&l.update({status:H.Exited}),this.endSession(),n.setSession(f)}return f},e.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),r=t.scope,n=t.client;if(!!r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},e.prototype._invokeClient=function(t){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=this.getStackTop(),o=a.scope,s=a.client;s&&s[t]&&(r=s)[t].apply(r,Q(n,[o]))},e.prototype._callExtensionMethod=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=it(),a=i.__SENTRY__;if(a&&a.extensions&&typeof a.extensions[t]=="function")return a.extensions[t].apply(this,r);d.warn("Extension method "+t+" couldn't be found, doing nothing.")},e}();function it(){var e=g();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function tr(e){var t=it(),r=W(t);return de(t,e),r}function S(){var e=it();return(!er(e)||W(e).isOlderThan(le))&&de(e,new Dt),lt()?Ln(e):W(e)}function Ln(e){var t,r,n;try{var i=(n=(r=(t=it().__SENTRY__)===null||t===void 0?void 0:t.extensions)===null||r===void 0?void 0:r.domain)===null||n===void 0?void 0:n.active;if(!i)return W(e);if(!er(i)||W(i).isOlderThan(le)){var a=W(e).getStackTop();de(i,new Dt(a.client,Lt.clone(a.scope)))}return W(i)}catch{return W(e)}}function er(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function W(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new Dt),e.__SENTRY__.hub}function de(e,t){return e?(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0):!1}function pe(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=S();if(n&&n[e])return n[e].apply(n,$r(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function Cn(e,t){var r;try{throw new Error("Sentry syntheticException")}catch(n){r=n}return pe("captureException",e,{captureContext:t,originalException:e,syntheticException:r})}function Na(e,t){var r;try{throw new Error(e)}catch(a){r=a}var n=typeof t=="string"?t:void 0,i=typeof t!="string"?{captureContext:t}:void 0;return pe("captureMessage",e,n,Kt({originalException:e,syntheticException:r},i))}function Dn(e){pe("withScope",e)}var rr="7",nr=function(){function e(t,r,n){r===void 0&&(r={}),this.dsn=t,this._dsnObject=new Be(t),this.metadata=r,this._tunnel=n}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.forceEnvelope=function(){return!!this._tunnel},e.prototype.getBaseApiEndpoint=function(){var t=this.getDsn(),r=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return r+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var t=this.getDsn();return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},e.prototype.getRequestHeaders=function(t,r){var n=this.getDsn(),i=["Sentry sentry_version="+rr];return i.push("sentry_client="+t+"/"+r),i.push("sentry_key="+n.publicKey),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},e.prototype.getReportDialogEndpoint=function(t){t===void 0&&(t={});var r=this.getDsn(),n=this.getBaseApiEndpoint()+"embed/error-page/",i=[];i.push("dsn="+r.toString());for(var a in t)if(a!=="dsn")if(a==="user"){if(!t.user)continue;t.user.name&&i.push("name="+encodeURIComponent(t.user.name)),t.user.email&&i.push("email="+encodeURIComponent(t.user.email))}else i.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return i.length?n+"?"+i.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(t){if(this._tunnel)return this._tunnel;var r=this.getBaseApiEndpoint(),n=this.getDsn();return""+r+n.projectId+"/"+t+"/"},e.prototype._encodedAuth=function(){var t=this.getDsn(),r={sentry_key:t.publicKey,sentry_version:rr};return un(r)},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var O=function(){return O=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},O.apply(this,arguments)};function Mn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Hn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Un(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function M(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Un(arguments[t]));return e}var ir=[];function ar(e){return e.reduce(function(t,r){return t.every(function(n){return r.name!==n.name})&&t.push(r),t},[])}function Bn(e){var t=e.defaultIntegrations&&M(e.defaultIntegrations)||[],r=e.integrations,n=M(ar(t));Array.isArray(r)?n=M(n.filter(function(o){return r.every(function(s){return s.name!==o.name})}),ar(r)):typeof r=="function"&&(n=r(n),n=Array.isArray(n)?n:[n]);var i=n.map(function(o){return o.name}),a="Debug";return i.indexOf(a)!==-1&&n.push.apply(n,M(n.splice(i.indexOf(a),1))),n}function qn(e){ir.indexOf(e.name)===-1&&(e.setupOnce(Ct,S),ir.push(e.name),d.log("Integration installed: "+e.name))}function $n(e){var t={};return Bn(e).forEach(function(r){t[r.name]=r,qn(r)}),Object.defineProperty(t,"initialized",{value:!0}),t}var or="Not capturing exception because it's already been captured.",Wn=function(){function e(t,r){this._integrations={},this._numProcessing=0,this._backend=new t(r),this._options=r,r.dsn&&(this._dsn=new Be(r.dsn))}return e.prototype.captureException=function(t,r,n){var i=this;if(Je(t)){d.log(or);return}var a=r&&r.event_id;return this._process(this._getBackend().eventFromException(t,r).then(function(o){return i._captureEvent(o,r,n)}).then(function(o){a=o})),a},e.prototype.captureMessage=function(t,r,n,i){var a=this,o=n&&n.event_id,s=Rt(t)?this._getBackend().eventFromMessage(String(t),r,n):this._getBackend().eventFromException(t,n);return this._process(s.then(function(u){return a._captureEvent(u,n,i)}).then(function(u){o=u})),o},e.prototype.captureEvent=function(t,r,n){var i;if(((i=r)===null||i===void 0?void 0:i.originalException)&&Je(r.originalException)){d.log(or);return}var a=r&&r.event_id;return this._process(this._captureEvent(t,r,n).then(function(o){a=o})),a},e.prototype.captureSession=function(t){if(!this._isEnabled()){d.warn("SDK not enabled, will not capture session.");return}typeof t.release!="string"?d.warn("Discarded session because of missing or non-string release"):(this._sendSession(t),t.update({init:!1}))},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.getTransport=function(){return this._getBackend().getTransport()},e.prototype.flush=function(t){var r=this;return this._isClientDoneProcessing(t).then(function(n){return r.getTransport().close(t).then(function(i){return n&&i})})},e.prototype.close=function(t){var r=this;return this.flush(t).then(function(n){return r.getOptions().enabled=!1,n})},e.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=$n(this._options))},e.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch{return d.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(t,r){var n,i,a=!1,o=!1,s=r.exception&&r.exception.values;if(s){o=!0;try{for(var u=Hn(s),c=u.next();!c.done;c=u.next()){var f=c.value,l=f.mechanism;if(l&&l.handled===!1){a=!0;break}}}catch(m){n={error:m}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}var p=t.status===H.Ok,v=p&&t.errors===0||p&&a;v&&(t.update(O(O({},a&&{status:H.Crashed}),{errors:t.errors||Number(o||a)})),this.captureSession(t))},e.prototype._sendSession=function(t){this._getBackend().sendSession(t)},e.prototype._isClientDoneProcessing=function(t){var r=this;return new I(function(n){var i=0,a=1,o=setInterval(function(){r._numProcessing==0?(clearInterval(o),n(!0)):(i+=a,t&&i>=t&&(clearInterval(o),n(!1)))},a)})},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},e.prototype._prepareEvent=function(t,r,n){var i=this,a=this.getOptions().normalizeDepth,o=a===void 0?3:a,s=O(O({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:$()),timestamp:t.timestamp||Ft()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);var u=r;n&&n.captureContext&&(u=Lt.clone(u).update(n.captureContext));var c=I.resolve(s);return u&&(c=u.applyToEvent(s,n)),c.then(function(f){return typeof o=="number"&&o>0?i._normalizeEvent(f,o):f})},e.prototype._normalizeEvent=function(t,r){if(!t)return null;var n=O(O(O(O(O({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(o){return O(O({},o),o.data&&{data:rt(o.data,r)})})}),t.user&&{user:rt(t.user,r)}),t.contexts&&{contexts:rt(t.contexts,r)}),t.extra&&{extra:rt(t.extra,r)});t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace);var i=this.getOptions()._experiments,a=i===void 0?{}:i;return a.ensureNoCircularStructures?rt(n):n},e.prototype._applyClientOptions=function(t){var r=this.getOptions(),n=r.environment,i=r.release,a=r.dist,o=r.maxValueLength,s=o===void 0?250:o;"environment"in t||(t.environment="environment"in r?n:"production"),t.release===void 0&&i!==void 0&&(t.release=i),t.dist===void 0&&a!==void 0&&(t.dist=a),t.message&&(t.message=pt(t.message,s));var u=t.exception&&t.exception.values&&t.exception.values[0];u&&u.value&&(u.value=pt(u.value,s));var c=t.request;c&&c.url&&(c.url=pt(c.url,s))},e.prototype._applyIntegrationsMetadata=function(t){var r=Object.keys(this._integrations);r.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=M(t.sdk.integrations||[],r))},e.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},e.prototype._captureEvent=function(t,r,n){return this._processEvent(t,r,n).then(function(i){return i.event_id},function(i){d.error(i)})},e.prototype._processEvent=function(t,r,n){var i=this,a,o,s=this.getOptions(),u=s.beforeSend,c=s.sampleRate,f=this.getTransport();if(!this._isEnabled())return I.reject(new E("SDK not enabled, will not capture event."));var l=t.type==="transaction";return!l&&typeof c=="number"&&Math.random()>c?((o=(a=f).recordLostEvent)===null||o===void 0||o.call(a,j.SampleRate,"event"),I.reject(new E("Discarding event because it's not included in the random sample (sampling rate = "+c+")"))):this._prepareEvent(t,n,r).then(function(p){var v,m;if(p===null)throw(m=(v=f).recordLostEvent)===null||m===void 0||m.call(v,j.EventProcessor,t.type||"event"),new E("An event processor returned null, will not send event.");var T=r&&r.data&&r.data.__sentry__===!0;if(T||l||!u)return p;var L=u(p,r);return i._ensureBeforeSendRv(L)}).then(function(p){var v,m;if(p===null)throw(m=(v=f).recordLostEvent)===null||m===void 0||m.call(v,j.BeforeSend,t.type||"event"),new E("`beforeSend` returned `null`, will not send event.");var T=n&&n.getSession&&n.getSession();return!l&&T&&i._updateSessionFromEvent(T,p),i._sendEvent(p),p}).then(null,function(p){throw p instanceof E?p:(i.captureException(p,{data:{__sentry__:!0},originalException:p}),new E(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+p))})},e.prototype._process=function(t){var r=this;this._numProcessing+=1,t.then(function(n){return r._numProcessing-=1,n},function(n){return r._numProcessing-=1,n})},e.prototype._ensureBeforeSendRv=function(t){var r="`beforeSend` method has to return `null` or a valid event.";if(Zt(t))return t.then(function(n){if(!(tt(n)||n===null))throw new E(r);return n},function(n){throw new E("beforeSend rejected with "+n)});if(!(tt(t)||t===null))throw new E(r);return t},e}(),Yn=function(){function e(){}return e.prototype.sendEvent=function(t){return I.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:G.Skipped})},e.prototype.close=function(t){return I.resolve(!0)},e}(),zn=function(){function e(t){this._options=t,this._options.dsn||d.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(t,r){throw new E("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(t,r,n){throw new E("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,function(r){d.error("Error while sending event: "+r)})},e.prototype.sendSession=function(t){if(!this._transport.sendSession){d.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(t).then(null,function(r){d.error("Error while sending session: "+r)})},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new Yn},e}();function sr(e){if(!(!e.metadata||!e.metadata.sdk)){var t=e.metadata.sdk,r=t.name,n=t.version;return{name:r,version:n}}}function Gn(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=M(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=M(e.sdk.packages||[],t.packages||[])),e}function ur(e,t){var r=sr(t),n=JSON.stringify(O(O({sent_at:new Date().toISOString()},r&&{sdk:r}),t.forceEnvelope()&&{dsn:t.getDsn().toString()})),i="aggregates"in e?"sessions":"session",a=JSON.stringify({type:i});return{body:n+`
`+a+`
`+JSON.stringify(e),type:i,url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function cr(e,t){var r=sr(t),n=e.type||"event",i=n==="transaction"||t.forceEnvelope(),a=e.debug_meta||{},o=a.transactionSampling,s=Mn(a,["transactionSampling"]),u=o||{},c=u.method,f=u.rate;Object.keys(s).length===0?delete e.debug_meta:e.debug_meta=s;var l={body:JSON.stringify(r?Gn(e,t.metadata.sdk):e),type:n,url:i?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(i){var p=JSON.stringify(O(O({event_id:e.event_id,sent_at:new Date().toISOString()},r&&{sdk:r}),t.forceEnvelope()&&{dsn:t.getDsn().toString()})),v=JSON.stringify({type:n,sample_rates:[{id:c,rate:f}]}),m=p+`
`+v+`
`+l.body;l.body=m}return l}function Xn(e,t){var r;t.debug===!0&&d.enable();var n=S();(r=n.getScope())===null||r===void 0||r.update(t.initialScope);var i=new e(t);n.bindClient(i)}var fr="6.16.0",lr,Vn=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){lr=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.__sentry_original__||this;return lr.apply(n,t)}},e.id="FunctionToString",e}(),Jn=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Kn=function(){function e(t){t===void 0&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){Ct(function(t){var r=S();if(!r)return t;var n=r.getIntegration(e);if(n){var i=r.getClient(),a=i?i.getOptions():{},o=typeof n._mergeOptions=="function"?n._mergeOptions(a):{};return typeof n._shouldDropEvent!="function"?t:n._shouldDropEvent(t,o)?null:t}return t})},e.prototype._shouldDropEvent=function(t,r){return this._isSentryError(t,r)?(d.warn(`Event dropped due to being internal Sentry Error.
Event: `+V(t)),!0):this._isIgnoredError(t,r)?(d.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+V(t)),!0):this._isDeniedUrl(t,r)?(d.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+V(t)+`.
Url: `+this._getEventFilterUrl(t)),!0):this._isAllowedUrl(t,r)?!1:(d.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+V(t)+`.
Url: `+this._getEventFilterUrl(t)),!0)},e.prototype._isSentryError=function(t,r){if(!r.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].type==="SentryError"||!1}catch{return!1}},e.prototype._isIgnoredError=function(t,r){return!r.ignoreErrors||!r.ignoreErrors.length?!1:this._getPossibleEventMessages(t).some(function(n){return r.ignoreErrors.some(function(i){return ht(n,i)})})},e.prototype._isDeniedUrl=function(t,r){if(!r.denyUrls||!r.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return n?r.denyUrls.some(function(i){return ht(n,i)}):!1},e.prototype._isAllowedUrl=function(t,r){if(!r.allowUrls||!r.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return n?r.allowUrls.some(function(i){return ht(n,i)}):!0},e.prototype._mergeOptions=function(t){return t===void 0&&(t={}),{allowUrls:M(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:M(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:M(this._options.ignoreErrors||[],t.ignoreErrors||[],Jn),ignoreInternal:typeof this._options.ignoreInternal!="undefined"?this._options.ignoreInternal:!0}},e.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var r=t.exception.values&&t.exception.values[0]||{},n=r.type,i=n===void 0?"":n,a=r.value,o=a===void 0?"":a;return[""+o,i+": "+o]}catch{return d.error("Cannot extract message for event "+V(t)),[]}return[]},e.prototype._getLastValidUrl=function(t){t===void 0&&(t=[]);for(var r,n,i=t.length-1;i>=0;i--){var a=t[i];if(((r=a)===null||r===void 0?void 0:r.filename)!=="<anonymous>"&&((n=a)===null||n===void 0?void 0:n.filename)!=="[native code]")return a.filename||null}return null},e.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var r=t.stacktrace.frames;return this._getLastValidUrl(r)}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return this._getLastValidUrl(n)}return null}catch{return d.error("Cannot extract url for event "+V(t)),null}},e.id="InboundFilters",e}(),at="?",Qn=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Zn=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ti=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ei=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ri=/\((\S*)(?::(\d+))(?::(\d+))\)/,ni=/Minified React error #\d+;/i;function ot(e){var t=null,r=0;e&&(typeof e.framesToPop=="number"?r=e.framesToPop:ni.test(e.message)&&(r=1));try{if(t=ai(e),t)return pr(t,r)}catch{}try{if(t=ii(e),t)return pr(t,r)}catch{}return{message:he(e),name:e&&e.name,stack:[],failed:!0}}function ii(e){var t,r;if(!e||!e.stack)return null;for(var n=[],i=e.stack.split(`
`),a,o,s,u,c=0;c<i.length;++c){if(s=Qn.exec(i[c])){var f=s[2]&&s[2].indexOf("native")===0;a=s[2]&&s[2].indexOf("eval")===0,a&&(o=ri.exec(s[2]))&&(s[2]=o[1],s[3]=o[2],s[4]=o[3]);var l=s[2]&&s[2].indexOf("address at ")===0?s[2].substr("address at ".length):s[2],p=s[1]||at;t=xt(dr(p,l),2),p=t[0],l=t[1],u={url:l,func:p,args:f?[s[2]]:[],line:s[3]?+s[3]:null,column:s[4]?+s[4]:null}}else if(s=ti.exec(i[c]))u={url:s[2],func:s[1]||at,args:[],line:+s[3],column:s[4]?+s[4]:null};else if(s=Zn.exec(i[c])){a=s[3]&&s[3].indexOf(" > eval")>-1,a&&(o=ei.exec(s[3]))?(s[1]=s[1]||"eval",s[3]=o[1],s[4]=o[2],s[5]=""):c===0&&!s[5]&&e.columnNumber!==void 0&&(n[0].column=e.columnNumber+1);var l=s[3],p=s[1]||at;r=xt(dr(p,l),2),p=r[0],l=r[1],u={url:l,func:p,args:s[2]?s[2].split(","):[],line:s[4]?+s[4]:null,column:s[5]?+s[5]:null}}else continue;!u.func&&u.line&&(u.func=at),n.push(u)}return n.length?{message:he(e),name:e.name,stack:n}:null}function ai(e){if(!e||!e.stacktrace)return null;for(var t=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,n=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=t.split(`
`),a=[],o,s=0;s<i.length;s+=2){var u=null;(o=r.exec(i[s]))?u={url:o[2],func:o[3],args:[],line:+o[1],column:null}:(o=n.exec(i[s]))&&(u={url:o[6],func:o[3]||o[4],args:o[5]?o[5].split(","):[],line:+o[1],column:+o[2]}),u&&(!u.func&&u.line&&(u.func=at),a.push(u))}return a.length?{message:he(e),name:e.name,stack:a}:null}var dr=function(e,t){var r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:at,r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]};function pr(e,t){try{return y(y({},e),{stack:e.stack.slice(t)})}catch{return e}}function he(e){var t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}var oi=50;function hr(e){var t=_e(e.stack),r={type:e.name,value:e.message};return t&&t.length&&(r.stacktrace={frames:t}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function si(e,t,r){var n={exception:{values:[{type:Qt(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:"Non-Error "+(r?"promise rejection":"exception")+" captured with keys: "+dn(e)}]},extra:{__serialized__:We(e)}};if(t){var i=ot(t),a=_e(i.stack);n.stacktrace={frames:a}}return n}function ve(e){var t=hr(e);return{exception:{values:[t]}}}function _e(e){if(!e||!e.length)return[];var t=e,r=t[0].func||"",n=t[t.length-1].func||"";return(r.indexOf("captureMessage")!==-1||r.indexOf("captureException")!==-1)&&(t=t.slice(1)),n.indexOf("sentryWrapped")!==-1&&(t=t.slice(0,-1)),t.slice(0,oi).map(function(i){return{colno:i.column===null?void 0:i.column,filename:i.url||t[0].url,function:i.func||"?",in_app:!0,lineno:i.line===null?void 0:i.line}}).reverse()}function ui(e,t,r){var n=r&&r.syntheticException||void 0,i=me(t,n,{attachStacktrace:e.attachStacktrace});return nt(i),i.level=C.Error,r&&r.event_id&&(i.event_id=r.event_id),I.resolve(i)}function ci(e,t,r,n){r===void 0&&(r=C.Info);var i=n&&n.syntheticException||void 0,a=ge(t,i,{attachStacktrace:e.attachStacktrace});return a.level=r,n&&n.event_id&&(a.event_id=n.event_id),I.resolve(a)}function me(e,t,r){r===void 0&&(r={});var n;if(De(e)&&e.error){var i=e;return e=i.error,n=ve(ot(e)),n}if(Me(e)||Xr(e)){var a=e;if("stack"in e)n=ve(ot(e));else{var o=a.name||(Me(a)?"DOMError":"DOMException"),s=a.message?o+": "+a.message:o;n=ge(s,t,r),se(n,s)}return"code"in a&&(n.tags=y(y({},n.tags),{"DOMException.code":""+a.code})),n}if(Ce(e))return n=ve(ot(e)),n;if(tt(e)||Qt(e)){var u=e;return n=si(u,t,r.rejection),nt(n,{synthetic:!0}),n}return n=ge(e,t,r),se(n,""+e,void 0),nt(n,{synthetic:!0}),n}function ge(e,t,r){r===void 0&&(r={});var n={message:e};if(r.attachStacktrace&&t){var i=ot(t),a=_e(i.stack);n.stacktrace={frames:a}}return n}var F=g(),Mt;function vr(){var e,t;if(Mt)return Mt;if(ne(F.fetch))return Mt=F.fetch.bind(F);var r=F.document,n=F.fetch;if(typeof((e=r)===null||e===void 0?void 0:e.createElement)=="function")try{var i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i),((t=i.contentWindow)===null||t===void 0?void 0:t.fetch)&&(n=i.contentWindow.fetch),r.head.removeChild(i)}catch(a){d.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return Mt=n.bind(F)}function fi(e,t){var r=Object.prototype.toString.call(F&&F.navigator)==="[object Navigator]",n=r&&typeof F.navigator.sendBeacon=="function";if(n){var i=F.navigator.sendBeacon.bind(F.navigator);return i(e,t)}if(Nt()){var a=vr();return Yr(a(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}))}}var _r={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},ye=g(),mr=function(){function e(t){var r=this;this.options=t,this._buffer=new Nn(30),this._rateLimits={},this._outcomes={},this._api=new nr(t.dsn,t._metadata,t.tunnel),this.url=this._api.getStoreEndpointWithUrlEncodedAuth(),this.options.sendClientReports&&ye.document&&ye.document.addEventListener("visibilitychange",function(){ye.document.visibilityState==="hidden"&&r._flushOutcomes()})}return e.prototype.sendEvent=function(t){throw new E("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(t){return this._buffer.drain(t)},e.prototype.recordLostEvent=function(t,r){var n;if(!!this.options.sendClientReports){var i=_r[r]+":"+t;d.log("Adding outcome: "+i),this._outcomes[i]=(n=this._outcomes[i],(n!=null?n:0)+1)}},e.prototype._flushOutcomes=function(){if(!!this.options.sendClientReports){var t=this._outcomes;if(this._outcomes={},!Object.keys(t).length){d.log("No outcomes to flush");return}d.log(`Flushing outcomes:
`+JSON.stringify(t,null,2));var r=this._api.getEnvelopeEndpointWithUrlEncodedAuth(),n=JSON.stringify(y({},this.options.tunnel&&{dsn:this._api.getDsn().toString()})),i=JSON.stringify({type:"client_report"}),a=JSON.stringify({timestamp:Ft(),discarded_events:Object.keys(t).map(function(s){var u=xt(s.split(":"),2),c=u[0],f=u[1];return{reason:f,category:c,quantity:t[s]}})}),o=n+`
`+i+`
`+a;try{fi(r,o)}catch(s){d.error(s)}}},e.prototype._handleResponse=function(t){var r=t.requestType,n=t.response,i=t.headers,a=t.resolve,o=t.reject,s=G.fromHttpCode(n.status),u=this._handleRateLimit(i);if(u&&d.warn("Too many "+r+" requests, backing off until: "+this._disabledUntil(r)),s===G.Success){a({status:s});return}o(n)},e.prototype._disabledUntil=function(t){var r=_r[t];return this._rateLimits[r]||this._rateLimits.all},e.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},e.prototype._handleRateLimit=function(t){var r,n,i,a,o=Date.now(),s=t["x-sentry-rate-limits"],u=t["retry-after"];if(s){try{for(var c=Fe(s.trim().split(",")),f=c.next();!f.done;f=c.next()){var l=f.value,p=l.split(":",2),v=parseInt(p[0],10),m=(isNaN(v)?60:v)*1e3;try{for(var T=(i=void 0,Fe(p[1].split(";"))),L=T.next();!L.done;L=T.next()){var yt=L.value;this._rateLimits[yt||"all"]=new Date(o+m)}}catch(ct){i={error:ct}}finally{try{L&&!L.done&&(a=T.return)&&a.call(T)}finally{if(i)throw i.error}}}}catch(ct){r={error:ct}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return!0}else if(u)return this._rateLimits.all=new Date(o+In(o,u)),!0;return!1},e}(),li=function(e){kt(t,e);function t(r,n){n===void 0&&(n=vr());var i=e.call(this,r)||this;return i._fetch=n,i}return t.prototype.sendEvent=function(r){return this._sendRequest(cr(r,this._api),r)},t.prototype.sendSession=function(r){return this._sendRequest(ur(r,this._api),r)},t.prototype._sendRequest=function(r,n){var i=this;if(this._isRateLimited(r.type))return this.recordLostEvent(j.RateLimitBackoff,r.type),Promise.reject({event:n,type:r.type,reason:"Transport for "+r.type+" requests locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429});var a={body:r.body,method:"POST",referrerPolicy:hn()?"origin":""};return this.options.fetchParameters!==void 0&&Object.assign(a,this.options.fetchParameters),this.options.headers!==void 0&&(a.headers=this.options.headers),this._buffer.add(function(){return new I(function(o,s){i._fetch(r.url,a).then(function(u){var c={"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")};i._handleResponse({requestType:r.type,response:u,headers:c,resolve:o,reject:s})}).catch(s)})}).then(void 0,function(o){throw o instanceof E?i.recordLostEvent(j.QueueOverflow,r.type):i.recordLostEvent(j.NetworkError,r.type),o})},t}(mr),di=function(e){kt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.sendEvent=function(r){return this._sendRequest(cr(r,this._api),r)},t.prototype.sendSession=function(r){return this._sendRequest(ur(r,this._api),r)},t.prototype._sendRequest=function(r,n){var i=this;return this._isRateLimited(r.type)?(this.recordLostEvent(j.RateLimitBackoff,r.type),Promise.reject({event:n,type:r.type,reason:"Transport for "+r.type+" requests locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429})):this._buffer.add(function(){return new I(function(a,o){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){var c={"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")};i._handleResponse({requestType:r.type,response:s,headers:c,resolve:a,reject:o})}},s.open("POST",r.url);for(var u in i.options.headers)Object.prototype.hasOwnProperty.call(i.options.headers,u)&&s.setRequestHeader(u,i.options.headers[u]);s.send(r.body)})}).then(void 0,function(a){throw a instanceof E?i.recordLostEvent(j.QueueOverflow,r.type):i.recordLostEvent(j.NetworkError,r.type),a})},t}(mr),pi=function(e){kt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.eventFromException=function(r,n){return ui(this._options,r,n)},t.prototype.eventFromMessage=function(r,n,i){return n===void 0&&(n=C.Info),ci(this._options,r,n,i)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var r=y(y({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(r):Nt()?new li(r):new di(r)},t}(zn),Ht=g(),be=0;function gr(){return be>0}function hi(){be+=1,setTimeout(function(){be-=1})}function st(e,t,r){if(t===void 0&&(t={}),typeof e!="function")return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch{return e}var n=function(){var o=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);var s=o.map(function(u){return st(u,t)});return e.handleEvent?e.handleEvent.apply(this,s):e.apply(this,s)}catch(u){throw hi(),Dn(function(c){c.addEventProcessor(function(f){var l=y({},f);return t.mechanism&&(se(l,void 0,void 0),nt(l,t.mechanism)),l.extra=y(y({},l.extra),{arguments:o}),l}),Cn(u)}),u}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}catch{}e.prototype=e.prototype||{},n.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:n}),Object.defineProperties(n,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{var a=Object.getOwnPropertyDescriptor(n,"name");a.configurable&&Object.defineProperty(n,"name",{get:function(){return e.name}})}catch{}return n}function vi(e){if(e===void 0&&(e={}),!!Ht.document){if(!e.eventId){d.error("Missing eventId option in showReportDialog call");return}if(!e.dsn){d.error("Missing dsn option in showReportDialog call");return}var t=Ht.document.createElement("script");t.async=!0,t.src=new nr(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad);var r=Ht.document.head||Ht.document.body;r&&r.appendChild(t)}}var _i=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=y({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(d.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(d.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||(N({callback:function(r){var n=r.error,i=S(),a=i.getIntegration(e),o=n&&n.__sentry_own_request__===!0;if(!(!a||gr()||o)){var s=i.getClient(),u=n===void 0&&Z(r.msg)?t._eventFromIncompleteOnError(r.msg,r.url,r.line,r.column):t._enhanceEventWithInitialFrame(me(n||r.msg,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),r.url,r.line,r.column);nt(u,{handled:!1,type:"onerror"}),i.captureEvent(u,{originalException:n})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||(N({callback:function(r){var n=r;try{"reason"in r?n=r.reason:"detail"in r&&"reason"in r.detail&&(n=r.detail.reason)}catch{}var i=S(),a=i.getIntegration(e),o=n&&n.__sentry_own_request__===!0;if(!a||gr()||o)return!0;var s=i.getClient(),u=Rt(n)?t._eventFromRejectionWithPrimitive(n):me(n,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});u.level=C.Error,nt(u,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(u,{originalException:n})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(t,r,n,i){var a=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=De(t)?t.message:t,s,u=o.match(a);u&&(s=u[1],o=u[2]);var c={exception:{values:[{type:s||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(c,r,n,i)},e.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},e.prototype._enhanceEventWithInitialFrame=function(t,r,n,i){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var a=isNaN(parseInt(i,10))?void 0:i,o=isNaN(parseInt(n,10))?void 0:n,s=Z(r)&&r.length>0?r:Qr();return t.exception.values[0].stacktrace.frames.length===0&&t.exception.values[0].stacktrace.frames.push({colno:a,filename:s,function:"?",in_app:!0,lineno:o}),t},e.id="GlobalHandlers",e}(),mi=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],gi=function(){function e(t){this.name=e.id,this._options=y({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var t=g();if(this._options.setTimeout&&k(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&k(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&k(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&k(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget){var r=Array.isArray(this._options.eventTarget)?this._options.eventTarget:mi;r.forEach(this._wrapEventTarget.bind(this))}},e.prototype._wrapTimeFunction=function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r[0];return r[0]=st(i,{mechanism:{data:{function:B(t)},handled:!0,type:"instrument"}}),t.apply(this,r)}},e.prototype._wrapRAF=function(t){return function(r){return t.call(this,st(r,{mechanism:{data:{function:"requestAnimationFrame",handler:B(t)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(t){var r=g(),n=r[t]&&r[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(k(n,"addEventListener",function(i){return function(a,o,s){try{typeof o.handleEvent=="function"&&(o.handleEvent=st(o.handleEvent.bind(o),{mechanism:{data:{function:"handleEvent",handler:B(o),target:t},handled:!0,type:"instrument"}}))}catch{}return i.call(this,a,st(o,{mechanism:{data:{function:"addEventListener",handler:B(o),target:t},handled:!0,type:"instrument"}}),s)}}),k(n,"removeEventListener",function(i){return function(a,o,s){var u,c=o;try{var f=(u=c)===null||u===void 0?void 0:u.__sentry_wrapped__;f&&i.call(this,a,f,s)}catch{}return i.call(this,a,c,s)}}))},e.prototype._wrapXHR=function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this,a=["onload","onerror","onprogress","onreadystatechange"];return a.forEach(function(o){o in i&&typeof i[o]=="function"&&k(i,o,function(s){var u={mechanism:{data:{function:o,handler:B(s)},handled:!0,type:"instrument"}};return s.__sentry_original__&&(u.mechanism.data.handler=B(s.__sentry_original__)),st(s,u)})}),t.apply(this,r)}},e.id="TryCatch",e}(),yr=function(){function e(t){this.name=e.id,this._options=y({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(t){!this._options.sentry||S().addBreadcrumb({category:"sentry."+(t.type==="transaction"?"transaction":"event"),event_id:t.event_id,level:t.level,message:V(t)},{event:t})},e.prototype.setupOnce=function(){var t=this;this._options.console&&N({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._consoleBreadcrumb.apply(t,z(r))},type:"console"}),this._options.dom&&N({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._domBreadcrumb.apply(t,z(r))},type:"dom"}),this._options.xhr&&N({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._xhrBreadcrumb.apply(t,z(r))},type:"xhr"}),this._options.fetch&&N({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._fetchBreadcrumb.apply(t,z(r))},type:"fetch"}),this._options.history&&N({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._historyBreadcrumb.apply(t,z(r))},type:"history"})},e.prototype._consoleBreadcrumb=function(t){var r={category:"console",data:{arguments:t.args,logger:"console"},level:C.fromString(t.level),message:qe(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)r.message="Assertion failed: "+(qe(t.args.slice(1)," ")||"console.assert"),r.data.arguments=t.args.slice(1);else return;S().addBreadcrumb(r,{input:t.args,level:t.level})},e.prototype._domBreadcrumb=function(t){var r,n=typeof this._options.dom=="object"?this._options.dom.serializeAttribute:void 0;typeof n=="string"&&(n=[n]);try{r=t.event.target?et(t.event.target,n):et(t.event,n)}catch{r="<unknown>"}r.length!==0&&S().addBreadcrumb({category:"ui."+t.name,message:r},{event:t.event,name:t.name,global:t.global})},e.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var r=t.xhr.__sentry_xhr__||{},n=r.method,i=r.url,a=r.status_code,o=r.body;S().addBreadcrumb({category:"xhr",data:{method:n,url:i,status_code:a},type:"http"},{xhr:t.xhr,input:o});return}},e.prototype._fetchBreadcrumb=function(t){!t.endTimestamp||t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"||(t.error?S().addBreadcrumb({category:"fetch",data:t.fetchData,level:C.Error,type:"http"},{data:t.error,input:t.args}):S().addBreadcrumb({category:"fetch",data:y(y({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response}))},e.prototype._historyBreadcrumb=function(t){var r=g(),n=t.from,i=t.to,a=oe(r.location.href),o=oe(n),s=oe(i);o.path||(o=a),a.protocol===s.protocol&&a.host===s.host&&(i=s.relative),a.protocol===o.protocol&&a.host===o.host&&(n=o.relative),S().addBreadcrumb({category:"navigation",data:{from:n,to:i}})},e.id="Breadcrumbs",e}(),yi="cause",bi=5,Ei=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._key=t.key||yi,this._limit=t.limit||bi}return e.prototype.setupOnce=function(){Ct(function(t,r){var n=S().getIntegration(e);if(n){var i=n._handler&&n._handler.bind(n);return typeof i=="function"?i(t,r):t}return t})},e.prototype._handler=function(t,r){if(!t.exception||!t.exception.values||!r||!D(r.originalException,Error))return t;var n=this._walkErrorTree(r.originalException,this._key);return t.exception.values=z(n,t.exception.values),t},e.prototype._walkErrorTree=function(t,r,n){if(n===void 0&&(n=[]),!D(t[r],Error)||n.length+1>=this._limit)return n;var i=ot(t[r]),a=hr(i);return this._walkErrorTree(t[r],r,z([a],n))},e.id="LinkedErrors",e}(),ut=g(),Si=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Ct(function(t){var r,n,i;if(S().getIntegration(e)){if(!ut.navigator&&!ut.location&&!ut.document)return t;var a=((r=t.request)===null||r===void 0?void 0:r.url)||((n=ut.location)===null||n===void 0?void 0:n.href),o=(ut.document||{}).referrer,s=(ut.navigator||{}).userAgent,u=y(y(y({},(i=t.request)===null||i===void 0?void 0:i.headers),o&&{Referer:o}),s&&{"User-Agent":s}),c=y(y({},a&&{url:a}),{headers:u});return y(y({},t),{request:c})}return t})},e.id="UserAgent",e}(),Ti=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,r){t(function(n){var i=r().getIntegration(e);if(i){try{if(i._shouldDropEvent(n,i._previousEvent))return d.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return i._previousEvent=n}return i._previousEvent=n}return n})},e.prototype._shouldDropEvent=function(t,r){return r?!!(this._isSameMessageEvent(t,r)||this._isSameExceptionEvent(t,r)):!1},e.prototype._isSameMessageEvent=function(t,r){var n=t.message,i=r.message;return!(!n&&!i||n&&!i||!n&&i||n!==i||!this._isSameFingerprint(t,r)||!this._isSameStacktrace(t,r))},e.prototype._getFramesFromEvent=function(t){var r=t.exception;if(r)try{return r.values[0].stacktrace.frames}catch{return}else if(t.stacktrace)return t.stacktrace.frames},e.prototype._isSameStacktrace=function(t,r){var n=this._getFramesFromEvent(t),i=this._getFramesFromEvent(r);if(!n&&!i)return!0;if(n&&!i||!n&&i||(n=n,i=i,i.length!==n.length))return!1;for(var a=0;a<i.length;a++){var o=i[a],s=n[a];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0},e.prototype._getExceptionFromEvent=function(t){return t.exception&&t.exception.values&&t.exception.values[0]},e.prototype._isSameExceptionEvent=function(t,r){var n=this._getExceptionFromEvent(r),i=this._getExceptionFromEvent(t);return!(!n||!i||n.type!==i.type||n.value!==i.value||!this._isSameFingerprint(t,r)||!this._isSameStacktrace(t,r))},e.prototype._isSameFingerprint=function(t,r){var n=t.fingerprint,i=r.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;n=n,i=i;try{return n.join("")===i.join("")}catch{return!1}},e.id="Dedupe",e}(),wi=function(e){kt(t,e);function t(r){r===void 0&&(r={});var n=this;return r._metadata=r._metadata||{},r._metadata.sdk=r._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:fr}],version:fr},n=e.call(this,pi,r)||this,n}return t.prototype.showReportDialog=function(r){r===void 0&&(r={});var n=g().document;if(!!n){if(!this._isEnabled()){d.error("Trying to call showReportDialog with Sentry Client disabled");return}vi(y(y({},r),{dsn:r.dsn||this.getDsn()}))}},t.prototype._prepareEvent=function(r,n,i){return r.platform=r.platform||"javascript",e.prototype._prepareEvent.call(this,r,n,i)},t.prototype._sendEvent=function(r){var n=this.getIntegration(yr);n&&n.addSentryBreadcrumb(r),e.prototype._sendEvent.call(this,r)},t}(Wn),Oi=[new Kn,new Vn,new gi,new yr,new _i,new Ei,new Ti,new Si];function ja(e){if(e===void 0&&(e={}),e.defaultIntegrations===void 0&&(e.defaultIntegrations=Oi),e.release===void 0){var t=g();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0),Xn(wi,e),e.autoSessionTracking&&ki()}function ki(){var e=g(),t=e.document;if(typeof t=="undefined"){d.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var r=S();typeof r.startSession!="function"||typeof r.captureSession!="function"||(r.startSession({ignoreDuration:!0}),r.captureSession(),N({callback:function(n){var i=n.from,a=n.to;i===void 0||i===a||(r.startSession({ignoreDuration:!0}),r.captureSession())},type:"history"}))}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ee=function(e,t){return Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ee(e,t)};function Se(e,t){Ee(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var _=function(){return _=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},_.apply(this,arguments)};function xi(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Ri(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ii(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function br(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ii(arguments[t]));return e}var x;(function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"})(x||(x={}));(function(e){function t(r){if(r<400&&r>=100)return e.Ok;if(r>=400&&r<500)switch(r){case 401:return e.Unauthenticated;case 403:return e.PermissionDenied;case 404:return e.NotFound;case 409:return e.AlreadyExists;case 413:return e.FailedPrecondition;case 429:return e.ResourceExhausted;default:return e.InvalidArgument}if(r>=500&&r<600)switch(r){case 501:return e.Unimplemented;case 503:return e.Unavailable;case 504:return e.DeadlineExceeded;default:return e.InternalError}return e.UnknownError}e.fromHttpCode=t})(x||(x={}));var Ni=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Te(e){e===void 0&&(e=(t=S().getClient())===null||t===void 0?void 0:t.getOptions());var t;return!!e&&("tracesSampleRate"in e||"tracesSampler"in e)}function ji(e){var t=e.match(Ni);if(t){var r=void 0;return t[3]==="1"?r=!0:t[3]==="0"&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}}function Ut(e){e===void 0&&(e=S());var t,r;return(r=(t=e)===null||t===void 0?void 0:t.getScope())===null||r===void 0?void 0:r.getTransaction()}function w(e){return e/1e3}function Ai(e){return e*1e3}function Pi(){N({callback:Er,type:"error"}),N({callback:Er,type:"unhandledrejection"})}function Er(){var e=Ut();e&&(d.log("[Tracing] Transaction: "+x.InternalError+" -> Global error occured"),e.setStatus(x.InternalError))}var Sr=function(){function e(t){t===void 0&&(t=1e3),this.spans=[],this._maxlen=t}return e.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},e}(),Fi=function(){function e(t){if(this.traceId=$(),this.spanId=$().substring(16),this.startTimestamp=_t(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return e.prototype.child=function(t){return this.startChild(t)},e.prototype.startChild=function(t){var r=new e(_(_({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,r},e.prototype.setTag=function(t,r){var n;return this.tags=_(_({},this.tags),(n={},n[t]=r,n)),this},e.prototype.setData=function(t,r){var n;return this.data=_(_({},this.data),(n={},n[t]=r,n)),this},e.prototype.setStatus=function(t){return this.status=t,this},e.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var r=x.fromHttpCode(t);return r!==x.UnknownError&&this.setStatus(r),this},e.prototype.isSuccess=function(){return this.status===x.Ok},e.prototype.finish=function(t){this.endTimestamp=typeof t=="number"?t:_t()},e.prototype.toTraceparent=function(){var t="";return this.sampled!==void 0&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},e.prototype.toContext=function(){return q({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},e.prototype.updateWithContext=function(t){var r,n,i,a,o;return this.data=(r=t.data,r!=null?r:{}),this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=(n=t.spanId,n!=null?n:this.spanId),this.startTimestamp=(i=t.startTimestamp,i!=null?i:this.startTimestamp),this.status=t.status,this.tags=(a=t.tags,a!=null?a:{}),this.traceId=(o=t.traceId,o!=null?o:this.traceId),this},e.prototype.getTraceContext=function(){return q({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return q({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}(),Tr=function(e){Se(t,e);function t(r,n){var i=e.call(this,r)||this;return i._measurements={},i._hub=S(),D(n,Dt)&&(i._hub=n),i.name=r.name||"",i.metadata=r.metadata||{},i._trimEnd=r.trimEnd,i.transaction=i,i}return t.prototype.setName=function(r){this.name=r},t.prototype.initSpanRecorder=function(r){r===void 0&&(r=1e3),this.spanRecorder||(this.spanRecorder=new Sr(r)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(r){this._measurements=_({},r)},t.prototype.setMetadata=function(r){this.metadata=_(_({},this.metadata),r)},t.prototype.finish=function(r){var n=this,i,a,o,s,u;if(this.endTimestamp===void 0){if(this.name||(d.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,r),this.sampled!==!0){d.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),(u=(o=(i=this._hub.getClient())===null||i===void 0?void 0:(a=i).getTransport)===null||o===void 0?void 0:(s=o.call(a)).recordLostEvent)===null||u===void 0||u.call(s,j.SampleRate,"transaction");return}var c=this.spanRecorder?this.spanRecorder.spans.filter(function(p){return p!==n&&p.endTimestamp}):[];this._trimEnd&&c.length>0&&(this.endTimestamp=c.reduce(function(p,v){return p.endTimestamp&&v.endTimestamp?p.endTimestamp>v.endTimestamp?p:v:p}).endTimestamp);var f={contexts:{trace:this.getTraceContext()},spans:c,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},l=Object.keys(this._measurements).length>0;return l&&(d.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),f.measurements=this._measurements),d.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(f)}},t.prototype.toContext=function(){var r=e.prototype.toContext.call(this);return q(_(_({},r),{name:this.name,trimEnd:this._trimEnd}))},t.prototype.updateWithContext=function(r){var n;return e.prototype.updateWithContext.call(this,r),this.name=(n=r.name,n!=null?n:""),this._trimEnd=r.trimEnd,this},t}(Fi),wr=1e3,Li=5e3,Ci=function(e){Se(t,e);function t(r,n,i,a){i===void 0&&(i="");var o=e.call(this,a)||this;return o._pushActivity=r,o._popActivity=n,o.transactionSpanId=i,o}return t.prototype.add=function(r){var n=this;r.spanId!==this.transactionSpanId&&(r.finish=function(i){r.endTimestamp=typeof i=="number"?i:_t(),n._popActivity(r.spanId)},r.endTimestamp===void 0&&this._pushActivity(r.spanId)),e.prototype.add.call(this,r)},t}(Sr),Di=function(e){Se(t,e);function t(r,n,i,a){i===void 0&&(i=wr),a===void 0&&(a=!1);var o=e.call(this,r,n)||this;return o._idleHub=n,o._idleTimeout=i,o._onScope=a,o.activities={},o._heartbeatCounter=0,o._finished=!1,o._beforeFinishCallbacks=[],n&&a&&(Or(n),d.log("Setting idle transaction on scope. Span ID: "+o.spanId),n.configureScope(function(s){return s.setSpan(o)})),o._initTimeout=setTimeout(function(){o._finished||o.finish()},o._idleTimeout),o}return t.prototype.finish=function(r){var n,i,a=this;if(r===void 0&&(r=_t()),this._finished=!0,this.activities={},this.spanRecorder){d.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);try{for(var o=Ri(this._beforeFinishCallbacks),s=o.next();!s.done;s=o.next()){var u=s.value;u(this,r)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(c){if(c.spanId===a.spanId)return!0;c.endTimestamp||(c.endTimestamp=r,c.setStatus(x.Cancelled),d.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(c,void 0,2)));var f=c.startTimestamp<r;return f||d.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(c,void 0,2)),f}),d.log("[Tracing] flushing IdleTransaction")}else d.log("[Tracing] No active IdleTransaction");return this._onScope&&Or(this._idleHub),e.prototype.finish.call(this,r)},t.prototype.registerBeforeFinishCallback=function(r){this._beforeFinishCallbacks.push(r)},t.prototype.initSpanRecorder=function(r){var n=this;if(!this.spanRecorder){var i=function(o){n._finished||n._pushActivity(o)},a=function(o){n._finished||n._popActivity(o)};this.spanRecorder=new Ci(i,a,this.spanId,r),d.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},t.prototype._pushActivity=function(r){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),d.log("[Tracing] pushActivity: "+r),this.activities[r]=!0,d.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(r){var n=this;if(this.activities[r]&&(d.log("[Tracing] popActivity "+r),delete this.activities[r],d.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,a=_t()+i/1e3;setTimeout(function(){n._finished||n.finish(a)},i)}},t.prototype._beat=function(){if(!this._finished){var r=Object.keys(this.activities).join("");r===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=r,this._heartbeatCounter>=3?(d.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(x.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var r=this;d.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout(function(){r._beat()},Li)},t}(Tr);function Or(e){if(e){var t=e.getScope();if(t){var r=t.getTransaction();r&&t.setSpan(void 0)}}}function Mi(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function kr(e,t,r){if(!Te(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setMetadata({transactionSampling:{method:K.Explicit}}),e;var n;return typeof t.tracesSampler=="function"?(n=t.tracesSampler(r),e.setMetadata({transactionSampling:{method:K.Sampler,rate:Number(n)}})):r.parentSampled!==void 0?(n=r.parentSampled,e.setMetadata({transactionSampling:{method:K.Inheritance}})):(n=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:K.Rate,rate:Number(n)}})),Hi(n)?n?(e.sampled=Math.random()<n,e.sampled?(d.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(d.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),e)):(d.log("[Tracing] Discarding transaction because "+(typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(d.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function Hi(e){return isNaN(e)||!(typeof e=="number"||typeof e=="boolean")?(d.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(e)+" of type "+JSON.stringify(typeof e)+"."),!1):e<0||e>1?(d.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+e+"."),!1):!0}function Ui(e,t){var r,n,i=((r=this.getClient())===null||r===void 0?void 0:r.getOptions())||{},a=new Tr(e,this);return a=kr(a,i,_({parentSampled:e.parentSampled,transactionContext:e},t)),a.sampled&&a.initSpanRecorder((n=i._experiments)===null||n===void 0?void 0:n.maxSpans),a}function Bi(e,t,r,n,i){var a,o,s=((a=e.getClient())===null||a===void 0?void 0:a.getOptions())||{},u=new Di(t,e,r,n);return u=kr(u,s,_({parentSampled:t.parentSampled,transactionContext:t},i)),u.sampled&&u.initSpanRecorder((o=s._experiments)===null||o===void 0?void 0:o.maxSpans),u}function qi(){var e=it();!e.__SENTRY__||(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Ui),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Mi))}function $i(){var e=it();if(!!e.__SENTRY__){var t={mongodb:function(){var n=U(module,"./integrations/node/mongo");return new n.Mongo},mongoose:function(){var n=U(module,"./integrations/node/mongo");return new n.Mongo({mongoose:!0})},mysql:function(){var n=U(module,"./integrations/node/mysql");return new n.Mysql},pg:function(){var n=U(module,"./integrations/node/postgres");return new n.Postgres}},r=Object.keys(t).filter(function(n){return!!zr(n)}).map(function(n){try{return t[n]()}catch{return}}).filter(function(n){return n});r.length>0&&(e.__SENTRY__.integrations=br(e.__SENTRY__.integrations||[],r))}}function Wi(){qi(),lt()&&$i(),Pi()}var Bt=g();function Yi(){Bt&&Bt.document?Bt.document.addEventListener("visibilitychange",function(){var e=Ut();Bt.document.hidden&&e&&(d.log("[Tracing] Transaction: "+x.Cancelled+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(x.Cancelled),e.setTag("visibilitychange","document.hidden"),e.finish())}):d.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var we=function(e,t,r){var n;return function(i){t.value>=0&&(i||r)&&(t.delta=t.value-(n||0),(t.delta||n===void 0)&&(n=t.value,e(t)))}},zi=function(){return"v2-"+Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)},Oe=function(e,t){return{name:e,value:t!=null?t:-1,delta:0,entries:[],id:zi()}},ke=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if(e==="first-input"&&!("PerformanceEventTiming"in self))return;var r=new PerformanceObserver(function(n){return n.getEntries().map(t)});return r.observe({type:e,buffered:!0}),r}}catch{}},qt=function(e,t){var r=function(n){(n.type==="pagehide"||g().document.visibilityState==="hidden")&&(e(n),t&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},Gi=function(e,t){var r=Oe("CLS",0),n,i=0,a=[],o=function(u){if(u&&!u.hadRecentInput){var c=a[0],f=a[a.length-1];i&&a.length!==0&&u.startTime-f.startTime<1e3&&u.startTime-c.startTime<5e3?(i+=u.value,a.push(u)):(i=u.value,a=[u]),i>r.value&&(r.value=i,r.entries=a,n&&n())}},s=ke("layout-shift",o);s&&(n=we(e,r,t),qt(function(){s.takeRecords().map(o),n(!0)}))},$t=-1,Xi=function(){return g().document.visibilityState==="hidden"?0:1/0},Vi=function(){qt(function(e){var t=e.timeStamp;$t=t},!0)},xe=function(){return $t<0&&($t=Xi(),Vi()),{get firstHiddenTime(){return $t}}},Ji=function(e,t){var r=xe(),n=Oe("FID"),i,a=function(s){i&&s.startTime<r.firstHiddenTime&&(n.value=s.processingStart-s.startTime,n.entries.push(s),i(!0))},o=ke("first-input",a);o&&(i=we(e,n,t),qt(function(){o.takeRecords().map(a),o.disconnect()},!0))},xr={},Ki=function(e,t){var r=xe(),n=Oe("LCP"),i,a=function(u){var c=u.startTime;c<r.firstHiddenTime&&(n.value=c,n.entries.push(u)),i&&i()},o=ke("largest-contentful-paint",a);if(o){i=we(e,n,t);var s=function(){xr[n.id]||(o.takeRecords().map(a),o.disconnect(),xr[n.id]=!0,i(!0))};["keydown","click"].forEach(function(u){addEventListener(u,s,{once:!0,capture:!0})}),qt(s,!0)}},R=g(),Qi={_reportAllChanges:!1},Zi=function(){function e(t){var r,n;this._measurements={},this._performanceCursor=0,!lt()&&((r=R)===null||r===void 0?void 0:r.performance)&&((n=R)===null||n===void 0?void 0:n.document)&&(R.performance.mark&&R.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(t._reportAllChanges),this._trackFID())}return e.prototype.addPerformanceEntries=function(t){var r=this;if(!(!R||!R.performance||!R.performance.getEntries||!mt)){d.log("[Tracing] Adding & adjusting spans using Performance API");var n=w(mt),i;if(R.document&&R.document.scripts){for(var a=0;a<R.document.scripts.length;a++)if(R.document.scripts[a].dataset.entry==="true"){i=R.document.scripts[a].src;break}}var o,s,u,c;if(R.performance.getEntries().slice(this._performanceCursor).forEach(function(l){var p=w(l.startTime),v=w(l.duration);if(!(t.op==="navigation"&&n+p<t.startTimestamp))switch(l.entryType){case"navigation":{ta(t,l,n),u=n+w(l.responseStart),c=n+w(l.requestStart);break}case"mark":case"paint":case"measure":{var m=ea(t,l,p,v,n);s===void 0&&l.name==="sentry-tracing-init"&&(s=m);var T=xe(),L=l.startTime<T.firstHiddenTime;l.name==="first-paint"&&L&&(d.log("[Measurements] Adding FP"),r._measurements.fp={value:l.startTime},r._measurements["mark.fp"]={value:m}),l.name==="first-contentful-paint"&&L&&(d.log("[Measurements] Adding FCP"),r._measurements.fcp={value:l.startTime},r._measurements["mark.fcp"]={value:m});break}case"resource":{var yt=l.name.replace(R.location.origin,""),ct=ra(t,l,yt,p,v,n);o===void 0&&(i||"").indexOf(yt)>-1&&(o=ct);break}}}),o!==void 0&&s!==void 0&&J(t,{description:"evaluation",endTimestamp:s,op:"script",startTimestamp:o}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),t.op==="pageload"){var f=w(mt);typeof u=="number"&&(d.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(u-t.startTimestamp)*1e3},typeof c=="number"&&c<=u&&(this._measurements["ttfb.requestTime"]={value:(u-c)*1e3})),["fcp","fp","lcp"].forEach(function(l){if(!(!r._measurements[l]||f>=t.startTimestamp)){var p=r._measurements[l].value,v=f+w(p),m=Math.abs((v-t.startTimestamp)*1e3),T=m-p;d.log("[Measurements] Normalized "+l+" from "+p+" to "+m+" ("+T+")"),r._measurements[l].value=m}}),this._measurements["mark.fid"]&&this._measurements.fid&&J(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+w(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,t.setMeasurements(this._measurements),this._tagMetricInfo(t)}}},e.prototype._tagMetricInfo=function(t){this._lcpEntry&&(d.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&t.setTag("lcp.element",et(this._lcpEntry.element)),this._lcpEntry.id&&t.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&t.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),t.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&this._clsEntry.sources&&(d.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.forEach(function(r,n){return t.setTag("cls.source."+(n+1),et(r.node))}))},e.prototype._trackCLS=function(){var t=this;Gi(function(r){var n=r.entries.pop();!n||(d.log("[Measurements] Adding CLS"),t._measurements.cls={value:r.value},t._clsEntry=n)})},e.prototype._trackNavigator=function(t){var r=R.navigator;if(!!r){var n=r.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),Wt(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),Wt(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),Wt(r.deviceMemory)&&t.setTag("deviceMemory",String(r.deviceMemory)),Wt(r.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(r.hardwareConcurrency))}},e.prototype._trackLCP=function(t){var r=this;Ki(function(n){var i=n.entries.pop();if(!!i){var a=w(mt),o=w(i.startTime);d.log("[Measurements] Adding LCP"),r._measurements.lcp={value:n.value},r._measurements["mark.lcp"]={value:a+o},r._lcpEntry=i}},t)},e.prototype._trackFID=function(){var t=this;Ji(function(r){var n=r.entries.pop();if(!!n){var i=w(mt),a=w(n.startTime);d.log("[Measurements] Adding FID"),t._measurements.fid={value:r.value},t._measurements["mark.fid"]={value:i+a}}})},e}();function ta(e,t,r){Y({transaction:e,entry:t,event:"unloadEvent",timeOrigin:r}),Y({transaction:e,entry:t,event:"redirect",timeOrigin:r}),Y({transaction:e,entry:t,event:"domContentLoadedEvent",timeOrigin:r}),Y({transaction:e,entry:t,event:"loadEvent",timeOrigin:r}),Y({transaction:e,entry:t,event:"connect",timeOrigin:r}),Y({transaction:e,entry:t,event:"secureConnection",timeOrigin:r,eventEnd:"connectEnd",description:"TLS/SSL"}),Y({transaction:e,entry:t,event:"fetch",timeOrigin:r,eventEnd:"domainLookupStart",description:"cache"}),Y({transaction:e,entry:t,event:"domainLookup",timeOrigin:r,description:"DNS"}),na(e,t,r)}function ea(e,t,r,n,i){var a=i+r,o=a+n;return J(e,{description:t.name,endTimestamp:o,op:t.entryType,startTimestamp:a}),a}function ra(e,t,r,n,i,a){if(!(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")){var o={};"transferSize"in t&&(o["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(o["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(o["Decoded Body Size"]=t.decodedBodySize);var s=a+n,u=s+i;return J(e,{description:r,endTimestamp:u,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:s,data:o}),u}}function Y(e){var t=e.transaction,r=e.entry,n=e.event,i=e.timeOrigin,a=e.eventEnd,o=e.description,s=a?r[a]:r[n+"End"],u=r[n+"Start"];!u||!s||J(t,{op:"browser",description:o!=null?o:n,startTimestamp:i+w(u),endTimestamp:i+w(s)})}function na(e,t,r){J(e,{op:"browser",description:"request",startTimestamp:r+w(t.requestStart),endTimestamp:r+w(t.responseEnd)}),J(e,{op:"browser",description:"response",startTimestamp:r+w(t.responseStart),endTimestamp:r+w(t.responseEnd)})}function J(e,t){var r=t.startTimestamp,n=xi(t,["startTimestamp"]);return r&&e.startTimestamp>r&&(e.startTimestamp=r),e.startChild(_({startTimestamp:r},n))}function Wt(e){return typeof e=="number"&&isFinite(e)}var ia=["localhost",/^\//],Yt={traceFetch:!0,traceXHR:!0,tracingOrigins:ia};function aa(e){var t=_(_({},Yt),e),r=t.traceFetch,n=t.traceXHR,i=t.tracingOrigins,a=t.shouldCreateSpanForRequest,o={},s=function(f){if(o[f])return o[f];var l=i;return o[f]=l.some(function(p){return ht(f,p)})&&!ht(f,"sentry_key"),o[f]},u=s;typeof a=="function"&&(u=function(f){return s(f)&&a(f)});var c={};r&&N({callback:function(f){oa(f,u,c)},type:"fetch"}),n&&N({callback:function(f){sa(f,u,c)},type:"xhr"})}function oa(e,t,r){if(!(!Te()||!(e.fetchData&&t(e.fetchData.url)))){if(e.endTimestamp&&e.fetchData.__span){var n=r[e.fetchData.__span];n&&(e.response?n.setHttpStatus(e.response.status):e.error&&n.setStatus(x.InternalError),n.finish(),delete r[e.fetchData.__span]);return}var i=Ut();if(i){var n=i.startChild({data:_(_({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http.client"});e.fetchData.__span=n.spanId,r[n.spanId]=n;var a=e.args[0]=e.args[0],o=e.args[1]=e.args[1]||{},s=o.headers;D(a,Request)&&(s=a.headers),s?typeof s.append=="function"?s.append("sentry-trace",n.toTraceparent()):Array.isArray(s)?s=br(s,[["sentry-trace",n.toTraceparent()]]):s=_(_({},s),{"sentry-trace":n.toTraceparent()}):s={"sentry-trace":n.toTraceparent()},o.headers=s}}}function sa(e,t,r){var n,i;if(!(!Te()||((n=e.xhr)===null||n===void 0?void 0:n.__sentry_own_request__)||!(((i=e.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&t(e.xhr.__sentry_xhr__.url)))){var a=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__){var o=r[e.xhr.__sentry_xhr_span_id__];o&&(o.setHttpStatus(a.status_code),o.finish(),delete r[e.xhr.__sentry_xhr_span_id__]);return}var s=Ut();if(s){var o=s.startChild({data:_(_({},a.data),{type:"xhr",method:a.method,url:a.url}),description:a.method+" "+a.url,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=o.spanId,r[e.xhr.__sentry_xhr_span_id__]=o,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",o.toTraceparent())}catch{}}}}var gt=g();function ua(e,t,r){if(t===void 0&&(t=!0),r===void 0&&(r=!0),!gt||!gt.location){d.warn("Could not initialize routing instrumentation due to invalid location");return}var n=gt.location.href,i;t&&(i=e({name:gt.location.pathname,op:"pageload"})),r&&N({callback:function(a){var o=a.to,s=a.from;if(s===void 0&&n&&n.indexOf(o)!==-1){n=void 0;return}s!==o&&(n=void 0,i&&(d.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=e({name:gt.location.pathname,op:"navigation"}))},type:"history"})}var ca=600,fa=_({idleTimeout:wr,markBackgroundTransactions:!0,maxTransactionDuration:ca,routingInstrumentation:ua,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},Yt),Aa=function(){function e(t){this.name=e.id,this._emitOptionsWarning=!1;var r=Yt.tracingOrigins;t&&t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&t.tracingOrigins.length!==0?r=t.tracingOrigins:this._emitOptionsWarning=!0,this.options=_(_(_({},fa),t),{tracingOrigins:r}),this._metrics=new Zi(_(_({},Qi),this.options._metricOptions))}return e.prototype.setupOnce=function(t,r){var n=this;this._getCurrentHub=r,this._emitOptionsWarning&&(d.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),d.warn("[Tracing] We added a reasonable default for you: "+Yt.tracingOrigins));var i=this.options,a=i.routingInstrumentation,o=i.startTransactionOnLocationChange,s=i.startTransactionOnPageLoad,u=i.markBackgroundTransactions,c=i.traceFetch,f=i.traceXHR,l=i.tracingOrigins,p=i.shouldCreateSpanForRequest;a(function(v){return n._createRouteTransaction(v)},s,o),u&&Yi(),aa({traceFetch:c,traceXHR:f,tracingOrigins:l,shouldCreateSpanForRequest:p})},e.prototype._createRouteTransaction=function(t){var r=this;if(!this._getCurrentHub){d.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.");return}var n=this.options,i=n.beforeNavigate,a=n.idleTimeout,o=n.maxTransactionDuration,s=t.op==="pageload"?la():void 0,u=_(_(_({},t),s),{trimEnd:!0}),c=typeof i=="function"?i(u):u,f=c===void 0?_(_({},u),{sampled:!1}):c;f.sampled===!1&&d.log("[Tracing] Will not send "+f.op+" transaction because of beforeNavigate."),d.log("[Tracing] Starting "+f.op+" transaction on scope");var l=this._getCurrentHub(),p=g().location,v=Bi(l,f,a,!0,{location:p});return v.registerBeforeFinishCallback(function(m,T){r._metrics.addPerformanceEntries(m),pa(Ai(o),m,T)}),v},e.id="BrowserTracing",e}();function la(){var e=da("sentry-trace");if(e)return ji(e)}function da(e){var t=g().document.querySelector("meta[name="+e+"]");return t?t.getAttribute("content"):null}function pa(e,t,r){var n=r-t.startTimestamp,i=r&&(n>e||n<0);i&&(t.setStatus(x.DeadlineExceeded),t.setTag("maxTransactionDurationExceeded","true"))}Wi();export{Aa as B,Ia as S,Ea as a,Ta as b,ma as c,_a as d,ya as e,wa as f,Nr as g,xa as h,Ra as i,va as j,Mr as k,Sa as l,Hr as m,Re as n,ka as o,ga as p,Ur as q,Oa as r,ha as s,jr as t,je as u,ba as v,ja as w,Na as x};
